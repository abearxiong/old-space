{"version":3,"sources":["actions/Types.js","store/reducers/index.js","store/reducers/ReposReducers.js","store/index.js","actions/ReposActions.js","actions/index.js","graphql/repository/issues/GET_ISSUE.js","graphql/repository/issues/GET_ISSUE_COMMENTS.js","graphql/repository/issues/GET_ISSUES.js","graphql/repository/issues/labels/GET_LABELS.js","graphql/repository/issues/ADD_ISSUE.js","graphql/repository/issues/ADD_ISSUE_COMMENT.js","graphql/repository/issues/UPDATE_ISSUE.js","graphql/index.js","components/issues/issueComments.jsx","components/issues/labels/labels.jsx","components/head/head.jsx","views/post.js","components/issues/issues.jsx","views/home.js","views/edit.js","App.js","serviceWorker.js","index.js"],"names":["SET_CONFIG","Symbol","SET_PAGEINFO","SET_NEXTPAGE","SET_ISSUE","SET_ISSUES","combineReducers","setIssue","state","action","type","Types","data","Object","assign","setIssues","issues","console","log","setConfig","config","client","variables","owner","name","first","after","pageInfo","store","createStore","reducers","applyMiddleware","thunk","dispatch","setIssueEdit","edit","Repos","gql","GET_ISSUE","GET_ISSUE_EXPORT","GET_ISSUE_COMMENTS","GET_ISSUE_COMMENTS_EXPORT","GET_ISSUES","GET_ISSUES_EXPORT","GET_LABELS","GET_LABELS_EXPORT","ADD_ISSUE","ADD_ISSUE_EXPORT","ADD_ISSUE_COMMENT","ADD_ISSUE_COMMENT_EXPORT","UPDATE_ISSUE","UPDATE_ISSUE_EXPORT","IssuesComments","props","query","notifyOnNetworkStatusChange","loading","error","refetch","networkStatus","fetchMore","commentsEdges","repository","issue","comments","edges","localStorage","setItem","JSON","stringify","map","item","Card","className","border","key","node","id","dangerouslySetInnerHTML","__html","bodyHTML","IssuesLabels","fetchPolicy","labelsEdges","labels","CardLabels","Badge","Head","toIndex","e","history","push","onToAddNewSpace","onShowLabels","setState","showLabels","onLabelsClose","title","desc","message","spaces","Navbar","bg","expand","Brand","href","Toggle","aria-controls","Collapse","Nav","Link","onClick","go","Form","inline","FormControl","placeholder","Button","varint","Modal","show","this","onHide","animation","Header","closeButton","Title","Body","Footer","variant","Component","Post","scrollNew","scrollHeight","document","documentElement","scrollTop","clientHeight","lodding","getItem","getIssueComment","handleClick","getChilder","parse","endCursor","number","parseInt","hasNextPage","newComments","newPages","alert","onCommentChange","value","target","comment","onUserChange","user","onAddComment","subjectId","body","mutate","mutation","then","res","issueComment","addComment","commentEdge","params","match","description","HasIssue","window","addEventListener","removeEventListener","CardIssue","BadgeLabel","pill","style","backgroundColor","color","Container","onChange","rows","defaultValue","connect","ownProps","Issues","issueEdges","toGithubComment","index","url","open","cardIssues","date","Date","createdAt","cardLabels","item2","stopPropagation","toEditIssues","toLocaleString","toIssuePost","alias","fallback-src","class","reactions","totalCount","Home","getNewPage","newPage","getNextPage","lastPageInfo","Edit","getType","chars","onChangeTitle","onValueChange","Plain","serialize","onClickAddNewPost","labelIds","labelEdges","isChecked","filter","x","repositoryId","removeItem","onClickEditOldPost","issueState","onClickReturn","onShowCheckbox","checked","renderBlock","editor","next","attributes","children","onKeyDown","event","onSpace","onBackspace","onEnter","selection","isExpanded","startBlock","start","text","slice","offset","replace","preventDefault","setBlocks","wrapBlock","moveFocusToStartOfNode","delete","unwrapBlock","end","length","splitBlock","msg","deserialize","titleStyle","fontSize","cg","now","manyDay","Math","floor","day","getDay","content","issueLables","isUpdate","le","includes","ButtonSubmit","ButtonReturn","CardTitle","EditorContent","CheckLable","Check","label","hidden","defaultChecked","Control","marginTop","ButtonGroup","undefined","location","token","setToken","CryptoJS","AES","decrypt","toString","enc","Utf8","httpLink","HttpLink","uri","headers","Authorization","ApolloClient","link","cache","InMemoryCache","App","path","exact","component","to","Boolean","hostname","ReactDOM","render","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.165f21ab.chunk.js","sourcesContent":["export const SET_CONFIG = Symbol('SET_CONFIG')\r\nexport const SET_PAGEINFO = Symbol('SET_PAGEINFO')\r\nexport const SET_NEXTPAGE = Symbol('SET_NEXTPAGE')\r\nexport const SET_PREVIOUSPAGE = Symbol('SET_PREVIOUSPAGE')\r\nexport const GET_STATE = Symbol('GET_STATE')\r\nexport const SET_ISSUE = Symbol('SET_ISSUE')\r\nexport const SET_ISSUES = Symbol('SET_ISSUES')\r\nexport const SET_CLIENT = Symbol('SET_CLIENT')\r\nexport const SET_REPOS = Symbol('SET_REPOS')\r\nexport const SET_ISSUE_ADD_STATUS = Symbol('SET_ISSUE_ADD_STATUS')","import {combineReducers} from 'redux'\r\nimport { setIssue,setIssues,setConfig } from \"./ReposReducers\"\r\n\r\nexport default combineReducers({\r\n    setIssue,setIssues,setConfig\r\n})","// 它就是将来真正要用到的数据，我们将其统一放置在reducers.js文件\r\nimport defaultState from '../state.js'\r\nimport * as Types from '../../actions/Types'\r\nfunction setIssue(state = {},action){\r\n    // console.log(\"setIssue Type:\",action.type)\r\n    switch(action.type){\r\n        case Types.SET_ISSUE:\r\n            // state.issue = action.data\r\n            //console.log(\"得到\",state,\"data\",action,action.type)\r\n            //return state\r\n            // console.log(\"action.data\",action.data,state,typeof state)\r\n            state = action.data\r\n            return Object.assign({}, state) //直接返回state是不会自动的刷新的\r\n        default:\r\n            return state\r\n    }\r\n}\r\nfunction setIssues(state = {},action){\r\n    // console.log(\"setIssues Type:\",action.type)\r\n    switch(action.type){\r\n        case Types.SET_ISSUES:\r\n        state.issues = action.data\r\n        console.log(\"得到\",state,\"data\",action,action.type)\r\n        //return state\r\n        return Object.assign({},state)\r\n        default:\r\n        return state\r\n    }\r\n}\r\nfunction setConfig (state = {},action){\r\n    switch(action.type){\r\n        case Types.SET_CONFIG:\r\n            // console.log(\"设置配置\", action.data)\r\n            state.config = action.data\r\n            state.client = action.data.client\r\n            state.variables = {\r\n                owner: action.data.owner,\r\n                name: action.data.name,\r\n                first: 10,\r\n                after: null\r\n            }\r\n            return Object.assign({}, state)\r\n        case Types.SET_PAGEINFO:\r\n            state.pageInfo = state.data\r\n            return Object.assign({}, state)\r\n        case Types.SET_NEXTPAGE:\r\n            state.variables.after = action.data\r\n            // console.log(\"设置下一页的after变量\")\r\n            return Object.assign({}, state)\r\n        default:\r\n        //console.log(\"得到\",state,\"data\",action,action.type)\r\n        return state\r\n    }\r\n}\r\nfunction pageTitle (state = defaultState.pageTitle,action) {\r\n// 不同的action有不同的处理逻辑\r\n    switch (action.type) {\r\n        case 'SET_PAGE_TITLE':\r\n        return action.data\r\n        default:\r\n        return state\r\n    }\r\n}\r\n\r\nfunction user (state = defaultState.user, action){\r\n    switch (action.type) {\r\n        case 'SET_USER':\r\n        return action.data\r\n        default:\r\n        return state\r\n    }\r\n}\r\n\r\nexport {\r\n    setIssue,\r\n    setIssues,\r\n    setConfig,\r\n    pageTitle,\r\n    user\r\n}","// index.js\r\n// applyMiddleware: redux通过该函数来使用中间件\r\n// createStore: 用于创建store实例\r\nimport { applyMiddleware, createStore } from 'redux'\r\n\r\n// 中间件，作用：如果不使用该中间件，当我们dispatch一个action时，需要给dispatch函数传入action    \r\n// 对象；但如果我们使用了这个中间件，那么就可以传入一个函数，\r\n// 这个函数接收两个参数:dispatch和    getState。这个dispatch可以在将来的异步请求完成后使用，对于异步action很有用\r\nimport thunk from 'redux-thunk'\r\n\r\n// 引入reducer\r\nimport reducers from './reducers/index'\r\n\r\n// 创建store实例\r\nlet store = createStore(\r\n    reducers,\r\n    applyMiddleware(thunk)\r\n)\r\n//console.log(\"引入了store\",reducers)\r\nexport default store","import * as Types from \"./Types\"\r\nexport const setIssues = (data = {}) => {\r\n    return (dispatch)=>{\r\n        console.log(\"setIssues吉祥物\")\r\n        // client.query({\r\n        //     query: GET_ISSUSE, \r\n        //     variables: { owner: cg.owner, name: cg.name, first, after },    \r\n        // }).then(res=>{\r\n        //     dispatch({type:Types.SET_ISSUES, data: res.data.repository.issues})\r\n        // })\r\n    }\r\n}\r\n// // 设置post内容\r\nexport const setIssue = (data = {}) => {\r\n    return (dispatch)=>{\r\n        console.log(\"setIssue吉祥物\")\r\n\r\n        // client.query({query:repos.getIssue(number,first,after)}).then(res=>{\r\n        //     let issue = res.data.repository.issue\r\n        //     dispatch({type:Types.SET_ISSUE, data:issue})\r\n        // }) \r\n    }\r\n}\r\n// // 设置post内容之增加post\r\nexport const setIssueEdit = ( data = {})=> {\r\n    return (dispatch)=>{\r\n        console.log(\"setIssueEdit吉祥物\")\r\n        dispatch({type:Types.SET_ISSUE,data:{edit:\"吉祥物\"}})\r\n        // client.mutate({\r\n        //     mutation : repos.setIssueAdd(content,title)\r\n        // }).then(res=>{\r\n        //     console.log(\"增加后的结果\",res)\r\n        //     dispatch({type:Types.SET_ISSUE_ADD_STATUS, data:res})\r\n        // })\r\n    }\r\n}\r\n// // 异步获取内容\r\n// export const setRepos = (type,start,end) => {\r\n//     return (dispatch)=>{\r\n//         dispatch({type: Types.SET_REPOS})\r\n//     }\r\n//   };\r\n\r\n//   // 设置page信息\r\n//   export const setPageInfo = (data={})=>{\r\n//     return (dispatch)=>{\r\n//         dispatch({type: Types.SET_PAGEINFO, data})\r\n//     }\r\n//   }\r\n//   // 设置下一页信息\r\n//   export const setNextPage = (data={})=>{\r\n//     return (dispatch)=>{\r\n//         dispatch({type: Types.SET_NEXTPAGE, data})\r\n//     }\r\n//   }","import * as Repos from \"./ReposActions\";\r\nlet Actions = Repos\r\n// Repos\r\nexport const setIssues = Repos.setIssues;\r\n// export const setPageInfo = Repos.setPageInfo;\r\n// export const setNextPage = Repos.setNextPage;\r\n// // issue\r\nexport const setIssue = Repos.setIssue;\r\nexport const setIssueEdit = Repos.setIssueEdit;\r\n\r\n// All\r\nexport default Actions","import gql from \"graphql-tag\";\r\nexport default  gql`\r\nquery Issues($owner:String!, $name:String!, $number: Int!, $first: Int!, $after: String){\r\n  repository(owner: $owner, name: $name) {\r\n    issue(number: $number){\r\n      id\r\n      number\r\n      title\r\n      bodyHTML\r\n      body\r\n      createdAt\r\n      labels(first:$first,after:$after){\r\n        edges{\r\n          node{\r\n            id\r\n            name\r\n            color\r\n            description\r\n            url\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n`","import gql from \"graphql-tag\";\r\n/*\r\n{\r\n  \"owner\":\"abearxiong\",\r\n  \"name\":\"abearxiong.github.io\",\r\n  \"number\": 52,\r\n  \"first\": 10,\r\n  \"after\": null\r\n}\r\n*/\r\nexport default  gql`\r\nquery IssueComment($owner:String!, $name:String!, $number: Int!, $first: Int!, $after: String){\r\n  repository(owner: $owner, name: $name) {\r\n    issue(number: $number){\r\n      id\r\n\t\t\tcomments(first:$first,after:$after){\r\n       \tpageInfo {\r\n            endCursor\r\n            startCursor\r\n            hasNextPage\r\n            hasPreviousPage\r\n        }\r\n        edges{\r\n          node{\r\n            id\r\n            body\r\n            bodyHTML\r\n            bodyText\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n`","import gql from \"graphql-tag\";\nexport default  gql`\nquery Issues($owner:String!, $name:String!, $first: Int!, $after: String){\n    repository(owner: $owner, name: $name) {\n        issues(first: $first, after: $after, orderBy:{field:CREATED_AT,direction:DESC}){\n            totalCount\n            pageInfo {\n                endCursor\n                startCursor\n                hasNextPage\n                hasPreviousPage\n            } \n            edges {\n                node {\n                    id\n                    number\n                    title\n                    bodyHTML\n                    body\n                    author{\n                        login\n                    }\n                    createdAt\n                    comments {\n                        totalCount\n                    }\n                    labels(first:10){\n                        edges{\n                            node{\n                                id\n                                name\n                                color\n                                description\n                            }\n                        }\n                    }\n                    reactions(content:HEART){\n                        totalCount\n                    }\n                }\n            }\n        }\n    }\n}\n`","import gql from \"graphql-tag\";\nexport default  gql`\nquery IssuesLabels($owner: String!, $name: String!, $first: Int!, $after: String) {\n  repository(owner: $owner, name: $name) {\n    labels(first: $first, after: $after) {\n      totalCount\n      pageInfo {\n        endCursor\n        startCursor\n        hasNextPage\n        hasPreviousPage\n      }\n      edges {\n        node {\n          id\n          description\n          color\n          url\n          name\n        }\n      }\n    }\n  }\n}\n`\n","import gql from \"graphql-tag\";\r\n/*\r\n{\r\n  \"repositoryId\":\"MDEwOlJlcG9zaXRvcnkxMjM4ODY3NzE=\",\r\n  \"title\":\"使用apollo测试的题目\",\r\n  \"body\":\"## 使用apollo测试后的body\",\r\n  \"labelIds\": [\"MDU6TGFiZWwxMzU2ODYzMTMz\"]\r\n}\r\n*/\r\nexport default gql`\r\nmutation CreateIssuePayload($repositoryId:ID!,$title:String!,$body:String!,$labelIds:[ID!]){\r\n  createIssue(input:{ repositoryId:$repositoryId,title:$title,,body:$body, labelIds: $labelIds}){\r\n   \tissue{\r\n\t  id\r\n      number\r\n      title\r\n      bodyHTML\r\n      body\r\n      author{\r\n        login\r\n      }\r\n      createdAt\r\n      labels(first:10){\r\n        edges{\r\n          node{\r\n            id\r\n            name\r\n            color\r\n            description\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n`","import gql from 'graphql-tag'\nexport default gql`\nmutation AddCommentPayload($subjectId: ID!,$body:String!){\n  addComment(input:{subjectId:$subjectId,body:$body}){\n    commentEdge{\n      node{\n        id\n        body\n        bodyHTML\n        bodyText\n      }\n    }\n  }\n}\n`","import gql from 'graphql-tag'\r\n/*\r\n{\r\n  \"id\":\"MDU6SXNzdWU1MTQwODM3NDQ=\",\r\n  \"state\": \"OPEN\",\r\n  \"title\":\"使用apollo测试的题目\",\r\n  \"body\":\"## 使用apollo测试后的body\\r\\n测试更新2\",\r\n  \"labelIds\": [\"MDU6TGFiZWwxMzU2ODYzMTMz\"]\r\n}\r\n*/\r\nexport default gql`\r\nmutation UpdateIssuePayload($id:ID!,$state:IssueState,$title:String!,$body:String!,$labelIds:[ID!]){\r\n  updateIssue(input:{ id:$id,state:$state,title:$title,,body:$body, labelIds: $labelIds}){\r\n   \tissue{\r\n\t\t\tid\r\n      number\r\n      title\r\n      bodyHTML\r\n      body\r\n      author{\r\n        login\r\n      }\r\n      state\r\n      createdAt\r\n      labels(first:10){\r\n        edges{\r\n          node{\r\n            id\r\n            description\r\n            color\r\n            url\r\n            name\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n`","import GET_ISSUE_EXPORT from \"./repository/issues/GET_ISSUE\"\r\nimport GET_ISSUE_COMMENTS_EXPORT from \"./repository/issues/GET_ISSUE_COMMENTS\"\r\nimport GET_ISSUES_EXPORT from \"./repository/issues/GET_ISSUES\"\r\nimport GET_LABELS_EXPORT from \"./repository/issues/labels/GET_LABELS\"\r\nimport ADD_ISSUE_EXPORT from \"./repository/issues/ADD_ISSUE\"\r\nimport ADD_ISSUE_COMMENT_EXPORT from \"./repository/issues/ADD_ISSUE_COMMENT\"\r\nimport UPDATE_ISSUE_EXPORT from \"./repository/issues/UPDATE_ISSUE\"\r\n\r\nexport const GET_ISSUE =  GET_ISSUE_EXPORT\r\nexport const GET_ISSUE_COMMENTS = GET_ISSUE_COMMENTS_EXPORT\r\nexport const GET_ISSUES =  GET_ISSUES_EXPORT\r\nexport const GET_LABELS = GET_LABELS_EXPORT\r\n\r\nexport const ADD_ISSUE = ADD_ISSUE_EXPORT\r\nexport const ADD_ISSUE_COMMENT = ADD_ISSUE_COMMENT_EXPORT\r\nexport const UPDATE_ISSUE = UPDATE_ISSUE_EXPORT\r\n","/* eslint-disable jsx-a11y/accessible-emoji */\nimport React from \"react\";\nimport { Query } from \"react-apollo\";\nimport { GET_ISSUE_COMMENTS} from \"../../graphql\"\nimport { Card } from \"react-bootstrap\";\n\nconst IssuesComments = (props) => (\n  <Query \n    query={GET_ISSUE_COMMENTS} \n    variables={ props.variables }\n    notifyOnNetworkStatusChange  \n    >\n    {({ loading, error, data, refetch, networkStatus,fetchMore  }) => {\n      if (loading) return <p>Loading...</p>;\n      if (error) {\n            console.log(error)\n            return <p>Error :(</p>;\n        }\n      // console.log(\"状态码\",networkStatus )\n      // console.log(\"内容\", data)\n    //   console.log(\"变量\",props.variables)\n      // console.log(\"页面\",props.pageInfo)\n    //   console.log(\"comments data:\", data)\n      let commentsEdges = data.repository.issue.comments.edges\n      // let totalCount = data.repository.issues.totalCount\n      let pageInfo = data.repository.issue.comments.pageInfo\n      localStorage.setItem(\"commentPageInfo\",JSON.stringify(pageInfo))\n      localStorage.setItem(\"commentsLodding\",false)\n      return (\n        <>\n            {\n                commentsEdges.map(item=>{\n                    return (<Card className=\"post-comment\" border=\"light\" key={item.node.id} >\n                            <Card border=\"light\"  dangerouslySetInnerHTML={{ __html: item.node.bodyHTML }}></Card>\n                    </Card>)\n                })\n            }\n        </>\n      );\n    }}\n  </Query>\n);\nexport default IssuesComments;","/* eslint-disable jsx-a11y/accessible-emoji */\r\nimport React from \"react\";\r\nimport { Query } from \"react-apollo\";\r\nimport {GET_LABELS} from \"../../../graphql\"\r\nimport { Card, Badge} from \"react-bootstrap\";\r\n\r\nconst IssuesLabels = (props) => (\r\n  <Query \r\n    query={GET_LABELS} \r\n    variables={ props.variables }\r\n    notifyOnNetworkStatusChange  \r\n    fetchPolicy=\"cache-and-network\"\r\n    >\r\n    {({ loading, error, data, refetch, networkStatus,fetchMore  }) => {\r\n      if (loading) return <p>Loading...</p>;\r\n      if (error) return <p>Error :(</p>;\r\n    //   console.log(\"状态码\",networkStatus )\r\n      // console.log(\"内容\", data)\r\n      console.log(\"变量\",props.variables)\r\n      // console.log(\"页面\",props.pageInfo)\r\n      let labelsEdges = data.repository.labels.edges\r\n    //   let totalCount = data.repository.labels.totalCount\r\n      let pageInfo = data.repository.labels.pageInfo\r\n      localStorage.setItem(\"pageInfo\",JSON.stringify(pageInfo))\r\n    //   localStorage.setItem(\"labelsLodding\",false)\r\n      let CardLabels = labelsEdges.map(item=>{\r\n        return <Badge >{item.node.name}</Badge>\r\n      })\r\n      return (\r\n        <Card border=\"light\" className=\"Labels-wrapper\">\r\n            <div>{CardLabels}\r\n            </div>\r\n        </Card>\r\n      );\r\n    }}\r\n  </Query>\r\n);\r\nexport default IssuesLabels;","import React, { Component } from 'react';\r\nimport { Button, Navbar, Nav, NavDropdown, Form, FormControl, Modal } from 'react-bootstrap';\r\nimport './head.scss'\r\nimport IssuesLabels from \"../issues/labels/labels\"\r\nclass Head extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            title: \"head\",\r\n            desc: \"显示关于应用中的头部的信息\",\r\n            message: \"test\",\r\n            spaces: [],\r\n            showLabels: false\r\n        };\r\n        // console.log(\"props:\", props, window.location.href)\r\n    }\r\n    componentDidMount() {\r\n\r\n    }\r\n    toIndex = (e) => {\r\n        //console.log(e)\r\n        //console.log(\"props\",this.props,'state',this.state)\r\n        this.props.history.push(\"/\")\r\n    }\r\n    onToAddNewSpace = (e) => {\r\n        //console.log(\"添加新的内容\")\r\n        this.props.history.push(\"/edit/new\")\r\n    }\r\n    onShowLabels = () => {\r\n        this.setState({\r\n            showLabels: true\r\n        })\r\n    }\r\n    onLabelsClose = () =>{\r\n        this.setState({\r\n            showLabels: false\r\n        })\r\n    }\r\n    render() {\r\n        return (\r\n            <Navbar className=\"Header\" bg=\"light\" expand=\"lg\">\r\n                <Navbar.Brand href=\"#\">GitHub空间</Navbar.Brand>\r\n                <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n                <Navbar.Collapse id=\"basic-navbar-nav\">\r\n                    <Nav className=\"mr-auto\">\r\n                        {/* <Nav.Link href=\"#\">Home</Nav.Link> */}\r\n                        <Nav.Link onClick={e => this.onToAddNewSpace()}>增加</Nav.Link>\r\n                        <Nav.Link onClick={e => this.onShowLabels()}>标签</Nav.Link>\r\n                        <Nav.Link onClick={e=>this.props.history.go(-1)}>返回</Nav.Link>\r\n                        {/* <NavDropdown title=\"Dropdown\" id=\"basic-nav-dropdown\">\r\n                            <NavDropdown.Item href=\"ac\">Action</NavDropdown.Item>\r\n                        </NavDropdown> */}\r\n                    </Nav>\r\n                    <Form inline>\r\n                        <FormControl type=\"text\" placeholder=\"Search\" className=\"mr-sm-2\" />\r\n                        <Button varint=\"outline-success\">Search</Button>\r\n                    </Form>\r\n                </Navbar.Collapse>\r\n                <Modal show={this.state.showLabels} onHide={e=>this.onLabelsClose()} animation={false}>\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title>显示标签</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <IssuesLabels variables={this.props.state.setConfig.variables}/>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={e=>this.onLabelsClose()}>\r\n                            Close\r\n                        </Button>\r\n                        {/* <Button variant=\"primary\" onClick={e=>this.onLabelsClose()}>\r\n                                Save Changes\r\n                        </Button> */}\r\n                    </Modal.Footer>\r\n                </Modal>\r\n            </Navbar>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default Head\r\n","import React, { Component } from \"react\";\r\nimport {Container,Card,Button, Badge } from \"react-bootstrap\";\r\nimport { connect } from \"react-redux\";\r\nimport { setIssue } from \"../actions\";\r\nimport {GET_ISSUE} from \"../graphql\"\r\nimport Comments from \"../components/issues/issueComments\"\r\nimport './post.scss'\r\nimport Head from '../components/head/head'\r\nimport {ADD_ISSUE_COMMENT} from \"../graphql\";\r\nclass Post extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    //console.log(props)\r\n    let params = props.match.params;\r\n    let number = params.number ? params.number : 6;\r\n    this.state = { \r\n     description: \"显示post的页面\",\r\n     number,\r\n     newPages: []\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    let number = this.state.number;\r\n    let pageInfo = { endCursor: null, hasNextPage: true  }\r\n    localStorage.setItem(\"commentPageInfo\",JSON.stringify(pageInfo))\r\n    localStorage.setItem(\"commentsLodding\",false)\r\n\r\n    console.log(\"Post初始化\", number);\r\n    let { config, client} = this.props.state.setConfig\r\n    let variables = {\r\n      owner: config.owner,\r\n      name: config.name,\r\n      number: parseInt(number),\r\n      first: 100,\r\n      after: null\r\n    }\r\n    client.query({\r\n      query: GET_ISSUE,\r\n      variables: variables\r\n    }).then(res=>{\r\n      // console.log(\"getdata\",res)\r\n      this.setState({\r\n        HasIssue: true,\r\n        issue: res.data.repository.issue,\r\n\r\n      })\r\n    })\r\n    this.getIssueComment()\r\n    window.addEventListener('scroll',this.scrollNew)\r\n    let user = localStorage.getItem(\"user\")\r\n    this.setState({\r\n      user\r\n    })\r\n  }\r\n  componentWillUnmount (){\r\n    window.removeEventListener('scroll',this.scrollNew)\r\n  }\r\n  scrollNew = ()=>{\r\n    let scrollHeight = document.documentElement.scrollHeight\r\n    let scrollTop = document.documentElement.scrollTop\r\n    let clientHeight = document.documentElement.clientHeight\r\n    let lodding = localStorage.getItem(\"commentsLodding\")\r\n    // console.log(\"height\",scrollHeight,scrollTop,clientHeight)\r\n    if(scrollTop + clientHeight > scrollHeight - 2&&lodding!==\"lodding\"){\r\n      // 单纯的相等的情况会出现 浮点数的情况，就不能执行\r\n      this.getIssueComment()\r\n      // console.log(\"新一页\")\r\n      localStorage.setItem(\"commentsLodding\",\"lodding\")\r\n    }\r\n  }\r\n\r\n  handleClick = () => {\r\n\r\n  }\r\n  getChilder =(pageInfo) =>{\r\n    // console.log(\"父层\", pageInfo)\r\n  }\r\n  getIssueComment = () =>{\r\n        // window.removeEventListener(\"scroll\",this.scrollNew) // 因为奇葩的问题导致内容重复问题\r\n        let pageInfo = JSON.parse(localStorage.getItem(\"commentPageInfo\"))\r\n        let after = pageInfo.endCursor\r\n        let variables = this.props.state.setConfig.variables\r\n        variables.after = after\r\n        variables.number = parseInt(this.state.number)\r\n        // console.log(\"variables:\",variables)\r\n        if(!pageInfo.hasNextPage){\r\n          alert(\"没有更多了\")\r\n          // window.removeEventListener(\"scroll\",this.scrollNew)\r\n          return \r\n        }\r\n        // console.log(\"key:\", pageInfo.endCursor)\r\n        let newComments = (<Comments \r\n          key = {pageInfo.endCursor}\r\n          variables={variables} \r\n          props={{...this.props}} \r\n          />    )\r\n        let newPages = this.state.newPages\r\n        newPages.push(newComments)\r\n        // console.log(newPages)\r\n        this.setState({\r\n          newPages,\r\n        })\r\n        // setTimeout(this.getIssueComment(), 5000)      \r\n  }\r\n  onCommentChange= (e)=>{\r\n    let value = e.target.value\r\n    console.log(value,e)\r\n    this.setState({\r\n      comment: value\r\n    })\r\n  }\r\n  onUserChange= (e)=>{\r\n    let value = e.target.value\r\n    console.log(value,e)\r\n    this.setState({\r\n      user: value\r\n    })\r\n    localStorage.setItem(\"user\",value)\r\n  }\r\n  onAddComment = ()=>{\r\n    let { client} = this.props.state.setConfig\r\n    let variables = {\r\n      subjectId : this.state.issue.id,\r\n      body: this.state.comment + \"\\n联系方式:\" + this.state.user\r\n    }\r\n    client.mutate({\r\n      mutation: ADD_ISSUE_COMMENT,\r\n      variables: variables\r\n    }).then(res=>{\r\n      console.log(\"add issue comment\", res)\r\n      let issueComment = res.data.addComment.commentEdge.node\r\n      this.setState({\r\n        issueComment\r\n      })\r\n    })\r\n  }\r\n  render() {\r\n    let CardIssue;\r\n    if(this.state.HasIssue){\r\n      let issue = this.state.issue\r\n      let BadgeLabel =  issue.labels.edges.map(item=>\r\n          <Badge pill  style={{backgroundColor:\"#\"+item.node.color }} id={item.node.id} key={item.node.id} title={item.node.description}>\r\n              {item.node.name} \r\n          </Badge>) \r\n      CardIssue = (\r\n        <Card className=\"post-comments\" >\r\n          <div>\r\n            {issue.title} \r\n          </div>\r\n          <div>\r\n          {BadgeLabel}\r\n          </div>\r\n          <Card border=\"light\"  dangerouslySetInnerHTML={{ __html: issue.bodyHTML }}></Card>\r\n        </Card>\r\n      )\r\n    }\r\n    \r\n    return (\r\n      <Container className=\"xx-space-post\">\r\n         <Head {...this.props}/>\r\n        {CardIssue}\r\n        <Card className=\"post-add-comments\" border=\"dark\">\r\n          <div className=\"post-add-comments-title\">添加评论</div>\r\n          <textarea className=\"post-add-comment-textarea\" onChange={e=>this.onCommentChange(e)} rows=\"4\">\r\n\r\n          </textarea>\r\n          <input id=\"post-user\" onChange={e=>this.onUserChange(e)} defaultValue={this.state.user} placeholder=\"联系方式：\"/>\r\n          <Button onClick={e=>this.onAddComment()}>确定</Button>\r\n        </Card>\r\n        <Card border=\"info\" className=\"post-comments\">\r\n          <div className=\"post-comments-title\">显示评论</div>\r\n          {this.state.newPages.map(item=>item)}\r\n          {\r\n            this.state.issueComment?\r\n            (<Card dangerouslySetInnerHTML={{__html:this.state.issueComment.bodyHTML}}></Card>)\r\n            :\"\"\r\n          }\r\n        </Card>\r\n\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\n// mapStateToProps：将state映射到组件的props中\r\nconst mapStateToProps = state => {\r\n  console.log(\"state 映射\", state);\r\n  return {\r\n    state\r\n  };\r\n};\r\n// mapDispatchToProps：将dispatch映射到组件的props中\r\nconst mapDispatchToProps = (dispatch, ownProps) => {\r\n  return {\r\n    setIssue(data) {\r\n      dispatch(setIssue(data));\r\n    }\r\n  };\r\n};\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Post);\r\n//export default Post;\r\n","/* eslint-disable jsx-a11y/accessible-emoji */\r\nimport React from \"react\";\r\nimport { Query } from \"react-apollo\";\r\nimport {GET_ISSUES} from \"../../graphql\"\r\nimport { Card, Badge} from \"react-bootstrap\";\r\n\r\nconst Issues = (props) => (\r\n  <Query \r\n    query={GET_ISSUES} \r\n    variables={ props.variables }\r\n    notifyOnNetworkStatusChange  \r\n    fetchPolicy=\"cache-and-network\"\r\n    >\r\n    {({ loading, error, data, refetch, networkStatus,fetchMore  }) => {\r\n      if (loading) return <p>Loading...</p>;\r\n      if (error) return <p>Error :(</p>;\r\n      // console.log(\"状态码\",networkStatus )\r\n      // console.log(\"内容\", data)\r\n      // console.log(\"变量\",props.variables)\r\n      // console.log(\"页面\",props.pageInfo)\r\n      let issueEdges = data.repository.issues.edges\r\n      // let totalCount = data.repository.issues.totalCount\r\n      let pageInfo = data.repository.issues.pageInfo\r\n      localStorage.setItem(\"pageInfo\",JSON.stringify(pageInfo))\r\n      localStorage.setItem(\"issuesLodding\",false)\r\n      let toGithubComment = (index) =>{\r\n        let url = 'https://github.com/abearxiong/abearxiong.github.io/issues/' + index\r\n        window.open(url)\r\n      }\r\n      let toEditIssues = (e, index) => {\r\n        // e.preventdefault().\r\n        e.stopPropagation()\r\n        console.log(\"editIssues\", this)\r\n        // TODO: 判断是否缓存有内容\r\n        props.props.history.push(\"/edit/\"+index)\r\n      }\r\n      let toIssuePost = (e, index)=>{\r\n        e.stopPropagation()\r\n        console.log(\"editIssues\", this)\r\n        props.props.history.push(\"/post/\"+index)\r\n      }\r\n      const cardIssues = issueEdges.map(item => {\r\n        let date = new Date(item.node.createdAt);\r\n        let cardLabels = item.node.labels.edges.map(item2=>{\r\n            return (<Badge pill  style={{backgroundColor:\"#\"+item2.node.color }} id={item2.node.id} key={item2.node.id} title={item2.node.description}>\r\n            {item2.node.name} \r\n         </Badge>)\r\n        })\r\n        return (\r\n        <Card key={item.node.id}>\r\n            <Card.Header onClick={e=>toGithubComment(item.node.number)}>{item.node.title}<Badge variant=\"light\" onClick={e=>toEditIssues(e, item.node.number)} title={item.node.id}>编辑</Badge></Card.Header>\r\n            <Card.Title>{date.toLocaleString()}</Card.Title>\r\n            <Card.Body onClick={e=>toIssuePost(e,item.node.number)}>\r\n                { cardLabels }\r\n                <Card border=\"light\"  dangerouslySetInnerHTML={{ __html: item.node.bodyHTML }}></Card>\r\n            </Card.Body>    \r\n            <Card.Footer>\r\n              <Badge variant=\"light\" onClick={e=>toGithubComment(item.node.number)}>\r\n                    <g-emoji\r\n                      alias=\"heart\"\r\n                      fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/2764.png\"\r\n                      class=\"emoji mr-1\"\r\n                    >\r\n                      ❤️\r\n                    </g-emoji>\r\n                  {item.node.reactions.totalCount}\r\n              </Badge>\r\n\r\n              <Badge variant=\"light\" onClick={e=>toGithubComment(item.node.number)}>\r\n                <g-emoji\r\n                  class=\"g-emoji\"\r\n                  alias=\"speech_balloon\"\r\n                  fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4ac.png\"\r\n                >\r\n                  💬\r\n                </g-emoji>\r\n                {item.node.comments.totalCount}\r\n              </Badge>\r\n            </Card.Footer>\r\n        </Card>\r\n        )}\r\n      )\r\n      return (\r\n        <Card border=\"light\" className=\"issues-wrapper\">\r\n            {cardIssues}\r\n        </Card>\r\n      );\r\n    }}\r\n  </Query>\r\n);\r\nexport default Issues;","/* eslint-disable jsx-a11y/accessible-emoji */\r\nimport React, { Component } from \"react\";\r\nimport {Container, Card} from \"react-bootstrap\";\r\nimport { setIssues } from \"../actions\";\r\nimport { connect } from \"react-redux\";\r\nimport Head from \"../components/head/head\";\r\nimport Issues from \"../components/issues/issues\"\r\n\r\nclass Home extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      title: \"首页\",\r\n      description: \"这里是显示内容的主页\",\r\n      message: \"test\",\r\n      spaces: [],\r\n      newPages:[],\r\n      lastPageInfo: {},\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    let pageInfo = { endCursor: null, hasNextPage: true  }\r\n    localStorage.setItem(\"pageInfo\",JSON.stringify(pageInfo))\r\n    localStorage.setItem(\"issuesLodding\",false)\r\n    window.addEventListener('scroll',this.scrollNew)\r\n    // console.log(this.state.description)\r\n    this.getNewPage();\r\n  }\r\n  componentWillUnmount (){\r\n    window.removeEventListener('scroll',this.scrollNew)\r\n  }\r\n  scrollNew = ()=>{\r\n    let scrollHeight = document.documentElement.scrollHeight\r\n    let scrollTop = document.documentElement.scrollTop\r\n    let clientHeight = document.documentElement.clientHeight\r\n    let lodding = localStorage.getItem(\"issuesLodding\")\r\n    // console.log(\"height\",scrollHeight,scrollTop,clientHeight)\r\n    if(scrollTop + clientHeight > scrollHeight - 2&&lodding!==\"lodding\"){\r\n      // 单纯的相等的情况会出现 浮点数的情况，就不能执行\r\n      this.getNewPage()\r\n      // console.log(\"新一页\")\r\n      localStorage.setItem(\"issuesLodding\",\"lodding\")\r\n    }\r\n  }\r\n  getNewPage = ()=>{\r\n    // window.removeEventListener(\"scroll\",this.scrollNew) // 因为奇葩的问题导致内容重复问题\r\n    let pageInfo = JSON.parse(localStorage.getItem(\"pageInfo\"))\r\n    let after = pageInfo.endCursor\r\n    let variables = this.props.state.setConfig.variables\r\n    variables.after = after\r\n    if(!pageInfo.hasNextPage){\r\n      alert(\"没有更多了\")\r\n      window.removeEventListener(\"scroll\",this.scrollNew)\r\n      return \r\n    }\r\n    // console.log(\"key:\", pageInfo.endCursor)\r\n    let newPage = (<Issues \r\n      key = {pageInfo.endCursor}\r\n      variables={variables} \r\n      props={{...this.props}}\r\n      getNextPage={this.getNextPage} \r\n      \r\n      />    )\r\n    let newPages = this.state.newPages\r\n    newPages.push(newPage)\r\n    // console.log(newPages)\r\n    this.setState({\r\n      newPages,\r\n    })\r\n  }\r\n  render() { \r\n    return (\r\n      <Container className=\"xx-space\">\r\n        <Head {...this.props} />\r\n        <Card border=\"light\"> \r\n            {this.state.newPages.map(item=>item)}\r\n        </Card>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\n// mapStateToProps：将state映射到组件的props中\r\nconst mapStateToProps = state => {\r\n  console.log(\"state 映射\", state);\r\n  return {\r\n    state\r\n  };\r\n};\r\n// mapDispatchToProps：将dispatch映射到组件的props中\r\nconst mapDispatchToProps = (dispatch, ownProps) => {\r\n  return {\r\n    setIssues(data) {\r\n      dispatch(setIssues(data));\r\n    }\r\n  };\r\n};\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Home);\r\n","import React, { Component } from 'react';\r\nimport {Container,Card,Button,Form, ButtonGroup, Badge} from 'react-bootstrap';\r\nimport { connect } from 'react-redux';\r\nimport { setIssueEdit } from '../actions';\r\nimport { Editor } from 'slate-react';\r\n// import { Value } from 'slate';\r\nimport Head from '../components/head/head'\r\nimport Plain from 'slate-plain-serializer'\r\nimport {ADD_ISSUE,GET_LABELS,GET_ISSUE,UPDATE_ISSUE} from \"../graphql\"\r\n\r\n// const initialValue = Value.fromJSON(initialJson)\r\nclass Edit extends Component {\r\n  constructor(props){\r\n    super(props)\r\n    // console.log(\"props:\",props)\r\n    let params = props.match.params\r\n    let number = params.number?params.number:\"new\"\r\n    //let content = \"今天发生了什么愉快的事情呢？\"\r\n    this.state = {\r\n      msg:\"msg hhh\",\r\n      number,\r\n      // title,\r\n      // value:initialValue,\r\n      value: Plain.deserialize(\"真是开心啊\"),\r\n      createdAt: new Date().toLocaleString(),\r\n      titleStyle:{\r\n        color: '#cccccc',\r\n        fontSize: 10\r\n      },\r\n      labelEdges: [],\r\n      issue:{\r\n        labels:{\r\n          edges:[]\r\n        }\r\n      }\r\n    }\r\n  }  \r\n  componentDidMount () {\r\n    // 获取Labels\r\n    let client = this.props.state.setConfig.client\r\n    let cg = this.props.state.setConfig.config\r\n    client.query({\r\n      query: GET_LABELS, \r\n      variables: { owner: cg.owner, name: cg.name, first:100},    \r\n      }).then(res=>{\r\n          let labelEdges = res.data.repository.labels.edges\r\n          // console.log(\"res\",labelEdges)\r\n          this.setState({labelEdges})\r\n\r\n    })\r\n    let setIssueEdit = this.props.setIssueEdit\r\n    let number = this.state.number\r\n    setIssueEdit()\r\n    if(number === \"new\"){\r\n      /* q = d - 1324 * 24 * 60 * 60  \r\n      *  1443365529298 是第一天\r\n      *  Sun Sep 27 2015 22:52:09 GMT+0800 (中国标准时间)\r\n      */\r\n      let now = new Date()\r\n      let show_day = [\"星期天\",\"星期一\",\"星期二\",\"星期三\",\"星期四\",\"星期五\",\"星期六\"]\r\n      let manyDay = Math.floor((now - 1443365529298)/(24 * 60 * 60 * 1000)) + 1// 往下 取整\r\n      let day = now.getDay()\r\n      let title = `奇幻旅程${manyDay} ${show_day[day]}`\r\n      // 如果新建文章的情况下，如果本地已经有了的话，直接设置\r\n      title = localStorage.getItem('title')?localStorage.getItem('title'):title\r\n      let content = localStorage.getItem('content')?localStorage.getItem('content'):\"真是开心啊\"\r\n      this.setState({title,value: Plain.deserialize(content)})\r\n    }else{\r\n      // setIssueEdit({number}) // number first after 后面两个是评论的\r\n      // console.log(\"number\",number,typeof number)\r\n      // 获取具体的某一个issue的内容\r\n      client.query({\r\n        query: GET_ISSUE,\r\n        variables:{\r\n          owner:cg.owner,\r\n          name: cg.name,\r\n          number: parseInt(number),\r\n          first: 100,\r\n          after: null\r\n        }\r\n      }).then(res=>{\r\n        // console.log(\"get issue\",res.data)\r\n        let issue = res.data.repository.issue\r\n        let labelEdges = issue.labels.edges\r\n        let issueLables = labelEdges.map(item=>item.node.name)\r\n        this.setState({\r\n          isUpdate: true,\r\n          issue:issue,\r\n          // issueId: issue.id,\r\n          issueLables: issueLables,\r\n          // issueCreatedAt: issue.createdAt,\r\n          // issueBody: issue.body,\r\n          // issueNumber: issue.number,\r\n          // issueTitle: issue.title,\r\n          issueState: \"OPEN\",\r\n          title: issue.title,\r\n          value: Plain.deserialize(issue.body),\r\n        })\r\n        let le = this.state.labelEdges\r\n        le.map(item=>{\r\n          // console.log(item.node.name,issueLables)\r\n          if(issueLables.includes(item.node.name) ){\r\n            // console.log(item.node.name,issueLables,\"IN\")            \r\n            item.node.checked = true\r\n            item.node.isChecked = true\r\n          }\r\n          return item\r\n        })\r\n        this.setState({\r\n          labelEdges:le\r\n        })\r\n      })\r\n    }\r\n    // console.log(\"Edit初始化\",number,this.props)\r\n\r\n\r\n  }\r\n  getType = chars => {\r\n    switch (chars) {\r\n      case '*':\r\n      case '-':\r\n      case '+':\r\n        return 'list-item'\r\n      case '>':\r\n        return 'block-quote'\r\n      case '#':\r\n        return 'heading-one'\r\n      case '##':\r\n        return 'heading-two'\r\n      case '###':\r\n        return 'heading-three'\r\n      case '####':\r\n        return 'heading-four'\r\n      case '#####':\r\n        return 'heading-five'\r\n      case '######':\r\n        return 'heading-six'\r\n      default:\r\n        return null\r\n    }\r\n  }\r\n  onChangeTitle = (e)=>{\r\n    let title = e.target.value\r\n    if (title !== this.state.title) {\r\n      localStorage.setItem('title', title)\r\n    }\r\n    this.setState({\r\n      title\r\n    })\r\n  }\r\n  onValueChange = ({value}) =>{\r\n    // Check to see if the document has changed before saving.\r\n    if (value.document !== this.state.value.document) {\r\n      // const content = JSON.stringify(value.toJSON())\r\n      // localStorage.setItem('content', content)\r\n      localStorage.setItem('content', Plain.serialize(value))\r\n      // console.log(content)\r\n    }\r\n    this.setState({value})\r\n    // console.log(this.state)\r\n  }\r\n  onClickAddNewPost = ()=>{\r\n    const { client,config } = this.props.state.setConfig\r\n    // COMPLETED: 1. 获取actions 2. 执行提交内容\r\n    // const value = JSON.stringify(this.state.value.document)\r\n    let value = Plain.serialize(this.state.value)\r\n    let title = this.state.title\r\n    let labelIds= this.state.labelEdges.map(item=>{\r\n      if(item.node.isChecked){\r\n        return item.node.id\r\n      }else{\r\n        return null\r\n      }\r\n    })\r\n    labelIds = labelIds.filter(function(x){return x!==null})\r\n    let variables = {repositoryId:config.repositoryId,labelIds,body:value,title}\r\n    // console.log(value,labelIds,variables)\r\n    // PRETODO: 获取lables和设置lables，获取仓库ID\r\n    client.mutate({\r\n          mutation : ADD_ISSUE,\r\n          variables\r\n      }).then(res=>{\r\n        // console.log(\"res结果\",res)\r\n        // this.props.history.push(\"/\")\r\n        // window.location.href=\"/\"\r\n        this.props.history.push(\"/\")\r\n      })\r\n    localStorage.removeItem('title')\r\n    localStorage.removeItem('content')\r\n  }\r\n  onClickEditOldPost = () => {\r\n    const { client } = this.props.state.setConfig\r\n    let value = Plain.serialize(this.state.value)\r\n    let title = this.state.title\r\n    let state = this.state.issueState\r\n    let labelIds= this.state.labelEdges.map(item=>{\r\n      if(item.node.isChecked){\r\n        return item.node.id\r\n      }else{\r\n        return null\r\n      }\r\n    })\r\n    labelIds = labelIds.filter(function(x){return x!==null})\r\n    let variables = {id:this.state.issue.id,state,labelIds,body:value,title}\r\n    console.log(value,labelIds,variables,typeof this.state.issue.id)\r\n    // PRETODO: 获取lables和设置lables，获取仓库ID\r\n    client.mutate({\r\n          mutation : UPDATE_ISSUE,\r\n          variables\r\n      }).then(res=>{\r\n        // console.log(\"res结果\",res)\r\n        this.props.history.push(\"/\")\r\n      })\r\n    localStorage.removeItem('title')\r\n    localStorage.removeItem('content')\r\n  }\r\n  onClickReturn = ()=>{\r\n    this.props.history.push(\"/\")\r\n  }\r\n  onShowCheckbox=(e)=>{\r\n    // console.log(\"e.target.data\",e.target.value,e.target,e.target.checked,this.state.labelEdges)\r\n    let isChecked = e.target.checked\r\n    let value = e.target.value\r\n    let labelEdges = this.state.labelEdges\r\n    if(isChecked){\r\n      labelEdges[value].node.isChecked=true\r\n    }else{\r\n      labelEdges[value].node.isChecked=false\r\n    }\r\n    this.setState({labelEdges})\r\n    console.log(\"this.labels\",this.state.labelEdges)\r\n  }\r\n  render() {\r\n    // console.log(\"this.props\",this.props)\r\n    let ButtonSubmit = <Button onClick = {(e)=>this.onClickAddNewPost(e)}>增加</Button>\r\n    let ButtonReturn = <Button variant=\"dark\" onClick = {(e)=>this.onClickReturn(e)}>返回</Button>\r\n    let CardTitle = <Card border=\"light\" style={this.state.titleStyle}>{this.state.createdAt}</Card>\r\n    let EditorContent = (\r\n      <Editor \r\n      placeholder = \"编辑的内容\"\r\n      value = {this.state.value}\r\n      onChange = {this.onValueChange}\r\n      />\r\n    )\r\n    let CheckLable = this.state.labelEdges.map((item,index)=>{\r\n      return (<Form.Check \r\n            key={item.node.id}\r\n            type=\"checkbox\"\r\n            name=\"check-labels\"\r\n            label={item.node.name}\r\n            value={index}\r\n            onChange={e=>this.onShowCheckbox(e)}\r\n            hidden={item.node.hidden}\r\n            defaultChecked={item.node.checked}\r\n      /> )\r\n    })\r\n    if(this.state.isUpdate){\r\n      // TODO: 编辑确定，更新内容\r\n      ButtonSubmit = <Button onClick = {(e)=>this.onClickEditOldPost(e)}>更新</Button>\r\n      CardTitle = <Card.Title style={this.state.titleStyle}>{new Date(this.state.issue.createdAt).toLocaleString()}</Card.Title>\r\n    }\r\n    // console.log(\"this.state.data\",this.state)\r\n    return (  \r\n        <Container className=\"xx-space-edit\">\r\n        <Head {...this.props}/>\r\n          <Card>\r\n            <Card className=\"edit-content\">\r\n              <Card.Header><Form.Control type=\"text\" onChange = {(e)=>this.onChangeTitle(e)} placeholder=\"标题\" defaultValue={this.state.title} /></Card.Header>\r\n              <div>\r\n              {\r\n                this.state.issue.labels.edges.map(item=>\r\n                  <Badge pill  style={{backgroundColor:\"#\"+item.node.color }} id={item.node.id} key={item.node.id} title={item.node.description}>\r\n                      {item.node.name} \r\n                  </Badge>) \r\n              }\r\n              </div>\r\n              <Card.Body>\r\n              <Card className=\"edit-wrapper\" border=\"light\">\r\n                <Card className=\"edit\" border=\"light\" >\r\n                  { EditorContent }\r\n                </Card>\r\n                <Card className=\"edit-aside\" border=\"light\" >\r\n                  {CardTitle}\r\n                  <div style={{marginTop: 20}} title=\"要点两下\">\r\n                  {CheckLable}\r\n                  </div>\r\n                </Card>\r\n              </Card> \r\n                </Card.Body>\r\n              <Card.Footer>\r\n                <Card>\r\n                  <ButtonGroup>\r\n                    {ButtonSubmit}\r\n                    {ButtonReturn}\r\n                  </ButtonGroup>\r\n                </Card>\r\n              </Card.Footer>\r\n            </Card>\r\n          </Card>\r\n        </Container>\r\n    );\r\n  }\r\n    /**\r\n   * Render a Slate block.\r\n   *\r\n   * @param {Object} props\r\n   * @param {Editor} editor\r\n   * @param {Function} next\r\n   * @return {Element}\r\n   */\r\n\r\n  renderBlock = (props, editor, next) => {\r\n    const { attributes, children, node } = props\r\n\r\n    switch (node.type) {\r\n      case 'block-quote':\r\n        return <blockquote {...attributes}>{children}</blockquote>\r\n      case 'bulleted-list':\r\n        return <ul {...attributes}>{children}</ul>\r\n      case 'heading-one':\r\n        return <h1 {...attributes}>{children}</h1>\r\n      case 'heading-two':\r\n        return <h2 {...attributes}>{children}</h2>\r\n      case 'heading-three':\r\n        return <h3 {...attributes}>{children}</h3>\r\n      case 'heading-four':\r\n        return <h4 {...attributes}>{children}</h4>\r\n      case 'heading-five':\r\n        return <h5 {...attributes}>{children}</h5>\r\n      case 'heading-six':\r\n        return <h6 {...attributes}>{children}</h6>\r\n      case 'list-item':\r\n        return <li {...attributes}>{children}</li>\r\n      default:\r\n        return next()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * On key down, check for our specific key shortcuts.\r\n   *\r\n   * @param {Event} event\r\n   * @param {Editor} editor\r\n   * @param {Function} next\r\n   */\r\n\r\n  onKeyDown = (event, editor, next) => {\r\n    switch (event.key) {\r\n      case ' ':\r\n        return this.onSpace(event, editor, next)\r\n      case 'Backspace':\r\n        return this.onBackspace(event, editor, next)\r\n      case 'Enter':\r\n        return this.onEnter(event, editor, next)\r\n      default:\r\n        return next()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * On space, if it was after an auto-markdown shortcut, convert the current\r\n   * node into the shortcut's corresponding type.\r\n   *\r\n   * @param {Event} event\r\n   * @param {Editor} editor\r\n   * @param {Function} next\r\n   */\r\n\r\n  onSpace = (event, editor, next) => {\r\n    const { value } = editor\r\n    const { selection } = value\r\n    if (selection.isExpanded) return next()\r\n\r\n    const { startBlock } = value\r\n    const { start } = selection\r\n    const chars = startBlock.text.slice(0, start.offset).replace(/\\s*/g, '')\r\n    const type = this.getType(chars)\r\n    if (!type) return next()\r\n    if (type === 'list-item' && startBlock.type === 'list-item') return next()\r\n    event.preventDefault()\r\n\r\n    editor.setBlocks(type)\r\n\r\n    if (type === 'list-item') {\r\n      editor.wrapBlock('bulleted-list')\r\n    }\r\n\r\n    editor.moveFocusToStartOfNode(startBlock).delete()\r\n  }\r\n\r\n  /**\r\n   * On backspace, if at the start of a non-paragraph, convert it back into a\r\n   * paragraph node.\r\n   *\r\n   * @param {Event} event\r\n   * @param {Editor} editor\r\n   * @param {Function} next\r\n   */\r\n\r\n  onBackspace = (event, editor, next) => {\r\n    const { value } = editor\r\n    const { selection } = value\r\n    if (selection.isExpanded) return next()\r\n    if (selection.start.offset !== 0) return next()\r\n\r\n    const { startBlock } = value\r\n    if (startBlock.type === 'paragraph') return next()\r\n\r\n    event.preventDefault()\r\n    editor.setBlocks('paragraph')\r\n\r\n    if (startBlock.type === 'list-item') {\r\n      editor.unwrapBlock('bulleted-list')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * On return, if at the end of a node type that should not be extended,\r\n   * create a new paragraph below it.\r\n   *\r\n   * @param {Event} event\r\n   * @param {Editor} editor\r\n   * @param {Function} next\r\n   */\r\n\r\n  onEnter = (event, editor, next) => {\r\n    const { value } = editor\r\n    const { selection } = value\r\n    const { start, end, isExpanded } = selection\r\n    if (isExpanded) return next()\r\n\r\n    const { startBlock } = value\r\n    if (start.offset === 0 && startBlock.text.length === 0)\r\n      return this.onBackspace(event, editor, next)\r\n    if (end.offset !== startBlock.text.length) return next()\r\n\r\n    if (\r\n      startBlock.type !== 'heading-one' &&\r\n      startBlock.type !== 'heading-two' &&\r\n      startBlock.type !== 'heading-three' &&\r\n      startBlock.type !== 'heading-four' &&\r\n      startBlock.type !== 'heading-five' &&\r\n      startBlock.type !== 'heading-six' &&\r\n      startBlock.type !== 'block-quote'\r\n    ) {\r\n      return next()\r\n    }\r\n\r\n    event.preventDefault()\r\n    editor.splitBlock().setBlocks('paragraph')\r\n  }\r\n}\r\n\r\n// mapStateToProps：将state映射到组件的props中\r\nconst mapStateToProps = (state) => {\r\n  console.log(\"state 映射\",state)\r\n  if(state.setIssue.data !== undefined){\r\n    window.location.href = \"/\"\r\n    // console.log(\"setIssue data\", state.setIssue.data)\r\n  }\r\n  return {\r\n      state\r\n  }\r\n}\r\n// mapDispatchToProps：将dispatch映射到组件的props中\r\nconst mapDispatchToProps = (dispatch, ownProps) => {\r\nreturn {\r\n  setIssueEdit(data){\r\n    dispatch(setIssueEdit(data))\r\n  }\r\n}\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Edit)\r\n//export default Edit;\r\n","import React, { Component } from 'react';\r\nimport { Provider } from 'react-redux';\r\nimport { Route,HashRouter, Switch,Redirect } from 'react-router-dom';\r\nimport { ApolloProvider } from '@apollo/react-hooks';\r\nimport {ApolloClient}from 'apollo-client'\r\nimport { InMemoryCache } from 'apollo-cache-inmemory'\r\nimport { HttpLink } from 'apollo-link-http'\r\nimport CryptoJS from 'crypto-js'\r\nimport store from './store';\r\nimport Post from './views/post';\r\nimport Home from './views/home';\r\nimport Edit from './views/edit';\r\nimport * as Types from \"./actions/Types\"\r\n// import Head from './components/head/head'\r\nimport './App.css';\r\n// 私有token上传会自动把token无效；所以加密一下啊 解密\r\n// import CryptoJS from 'crypto-js'\r\n// var decrypted = CryptoJS.AES.decrypt(token,key);\r\n// let token = decrypted.toString(CryptoJS.enc.Utf8);//转化为utf8\r\nconst key = \"xx-space\"\r\nconst token = 'U2FsdGVkX19B3HPXWKdG/BW8oy5ld+5t4WogKry+ve6B0RWRGtSjQlGr32zwr4nn7zBE9woFkj4mWNj8jZv1dg==' // 私有限制权限的token\r\nconst owner = 'abearxiong'  // 仓库拥有者\r\nconst name = 'abearxiong.github.io' // 仓库名字\r\nconst repositoryId = \"MDEwOlJlcG9zaXRvcnkxMjM4ODY3NzE=\"\r\nconst config = {\r\n  key,\r\n  token,\r\n  owner,\r\n  name,\r\n  repositoryId\r\n}\r\nvar decrypted = CryptoJS.AES.decrypt(config.token,config.key);\r\nlet setToken = decrypted.toString(CryptoJS.enc.Utf8);//转化为utf8\r\n//console.log(token)\r\nconst httpLink = new HttpLink({\r\n    uri: 'https://api.github.com/graphql', // 配置请求url \r\n    headers: { // 配置header\r\n        Authorization: `Bearer ${setToken}`\r\n    }\r\n})\r\nconst client =  new ApolloClient({\r\n    link:  httpLink,\r\n    cache: new InMemoryCache() // 缓存\r\n})\r\n// client.query({\r\n//   query: GET_ISSUES,variables: { owner: \"abearxiong\", name: \"abearxiong.github.io\", first:10 },    }).then(res=>{\r\n//     console.log(\"测试client\",res)\r\n//   })\r\nclass App extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    store.dispatch({type: Types.SET_CONFIG, data: { ...config, client }}) // store分发举例，其他库，自动配置\r\n    this.state = {\r\n      description: \"设置关于起始显示的地方\"\r\n    }\r\n  };\r\n  componentDidMount () {\r\n    // console.log(\"App初始化完成\",store)\r\n    \r\n  }\r\n  render() {\r\n    return (   \r\n      <Provider store = {store}>\r\n        <ApolloProvider client={client}>\r\n           <HashRouter>\r\n              <Switch>\r\n                  <Route path=\"/\" exact component={Home}/>\r\n                  <Route path=\"/post/:number\" component={Post}/>\r\n                  <Route path=\"/edit/:number\" component={Edit}/>\r\n                  <Redirect to=\"/\" />\r\n              </Switch>\r\n            </HashRouter>\r\n          </ApolloProvider>   \r\n      </Provider>   \r\n    );\r\n  }\r\n}\r\n// // mapStateToProps：将state映射到组件的props中\r\n// const mapStateToProps = (state) => {\r\n//   return {\r\n//       user: state.user,\r\n//   }\r\n// }\r\n// // mapDispatchToProps：将dispatch映射到组件的props中\r\n// const mapDispatchToProps = (dispatch, ownProps) => {\r\n// return {\r\n//   setConfig (data) {\r\n//       dispatch(setConfig(data))\r\n//   }\r\n// }\r\n// }\r\n// export default connect(mapStateToProps, mapDispatchToProps)(App)\r\nexport default App;","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'bootstrap/dist/css/bootstrap.min.css'\r\nimport './index.css';\r\nimport '@github/g-emoji-element'\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}